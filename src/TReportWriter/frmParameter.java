/*
 * frmGroup.java
 *
 * Created on July 9, 2007, 12:47 PM
 */

package TReportWriter;

/**
 *
 * @author  root
 */
import javax.swing.*;
import java.awt.*;


public class frmParameter extends javax.swing.JApplet {
    
    public TParameter objParam=new TParameter();
    public TReport objReport;
    public boolean cancelled=false;
    private TEITLComboModel cmbDataTypeModel=new TEITLComboModel();
    
    private JDialog aDialog;
    
    
    /** Initializes the applet frmGroup */
    public void init() {
        setSize(475,153);
        initComponents();
    }
    
    /** This method is called from within the init() method to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        jLabel1 = new javax.swing.JLabel();
        txtName = new javax.swing.JTextField();
        txtValue = new javax.swing.JTextField();
        cmdOK = new javax.swing.JButton();
        cmdCancel = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        cmbDataType = new javax.swing.JComboBox();
        jLabel3 = new javax.swing.JLabel();

        getContentPane().setLayout(null);

        addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                formMouseClicked(evt);
            }
        });

        jLabel1.setText("Name");
        getContentPane().add(jLabel1);
        jLabel1.setBounds(49, 46, 40, 15);

        getContentPane().add(txtName);
        txtName.setBounds(101, 44, 230, 19);

        getContentPane().add(txtValue);
        txtValue.setBounds(101, 102, 230, 19);

        cmdOK.setText("OK");
        cmdOK.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdOKActionPerformed(evt);
            }
        });

        getContentPane().add(cmdOK);
        cmdOK.setBounds(372, 29, 80, 25);

        cmdCancel.setText("Cancel");
        cmdCancel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdCancelActionPerformed(evt);
            }
        });

        getContentPane().add(cmdCancel);
        cmdCancel.setBounds(372, 64, 80, 25);

        jLabel2.setText("Value");
        getContentPane().add(jLabel2);
        jLabel2.setBounds(52, 104, 40, 15);

        jLabel9.setText("Data Type");
        getContentPane().add(jLabel9);
        jLabel9.setBounds(24, 75, 70, 15);

        getContentPane().add(cmbDataType);
        cmbDataType.setBounds(101, 71, 230, 20);

        jLabel3.setText("Input Parameter Information");
        getContentPane().add(jLabel3);
        jLabel3.setBounds(7, 12, 260, 15);

    }//GEN-END:initComponents
    
    private void cmdOKActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmdOKActionPerformed
        // TODO add your handling code here:
        cancelled=false;

        objParam.ParameterName=txtName.getText();
        objParam.DataType=cmbDataType.getSelectedItem().toString();
        objParam.ParameterValue=txtValue.getText();
        
        aDialog.dispose();
    }//GEN-LAST:event_cmdOKActionPerformed
    
    private void formMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_formMouseClicked
        // TODO add your handling code here:
        
    }//GEN-LAST:event_formMouseClicked
    
    private void cmdCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmdCancelActionPerformed
        // TODO add your handling code here:
        cancelled=true;
        aDialog.dispose();
    }//GEN-LAST:event_cmdCancelActionPerformed
    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox cmbDataType;
    private javax.swing.JButton cmdCancel;
    private javax.swing.JButton cmdOK;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JTextField txtName;
    private javax.swing.JTextField txtValue;
    // End of variables declaration//GEN-END:variables
    
    private Frame findParentFrame(JApplet pApplet) {
        Container c = (Container) pApplet;
        while(c != null){
            if (c instanceof Frame)
                return (Frame)c;
            
            c = c.getParent();
        }
        return (Frame)null;
    }
    
    
    public void ShowDialog() {
        setSize(475,153);
        
        initComponents();
        GenerateCombo();
        
        txtName.setText(objParam.ParameterName);
        cmbDataType.setSelectedItem(objParam.DataType);
        txtValue.setText(objParam.ParameterValue);
        
        Frame f=findParentFrame(this);
        
        aDialog=new JDialog(f,"Report Parameter",true);
        
        aDialog.getContentPane().add("Center",this);
        Dimension appletSize = this.getSize();
        aDialog.setSize(appletSize);
        aDialog.setResizable(false);
        
        //Place it to center of the screen
        Dimension screenSize=Toolkit.getDefaultToolkit().getScreenSize();
        aDialog.setLocation((int)(screenSize.getWidth()-appletSize.getWidth())/2,(int)(screenSize.getHeight()-appletSize.getHeight())/2);
        
        aDialog.setDefaultCloseOperation(javax.swing.JDialog.DISPOSE_ON_CLOSE);
        aDialog.show();
    }
    
    
    
    
    private void GenerateCombo() {
        try {
            cmbDataTypeModel=new TEITLComboModel();
            cmbDataType.removeAllItems();
            cmbDataType.setModel(cmbDataTypeModel);
            
            TComboData aData=new TComboData();
            aData.strCode="String";
            aData.Text="String";
            cmbDataTypeModel.addElement(aData);
            
            aData=new TComboData();
            aData.strCode="Numeric";
            aData.Text="Numeric";
            cmbDataTypeModel.addElement(aData);
            
            aData=new TComboData();
            aData.strCode="Date";
            aData.Text="Date";
            cmbDataTypeModel.addElement(aData);
            
        }
        catch(Exception e) {
            
        }
        
    }
    
    
    
}
