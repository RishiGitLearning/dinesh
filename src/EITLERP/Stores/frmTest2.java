/*
 * frmTest2.java
 *
 * Created on May 18, 2004, 4:31 PM
 */

package EITLERP.Stores;

/** 
 * 
 * @author  nrpithva
 */
import javax.swing.table.*;
import java.awt.*;
import java.awt.event.*;
import javax.swing.event.*;
import javax.swing.*; 
import org.nfunk.jep.*;
import EITLERP.*;
import java.util.*;
 
public class frmTest2 extends javax.swing.JApplet {
    
    /** Initializes the applet frmTest2 */
    public void init() {
        initComponents();
        
       Table.getSelectionModel().addListSelectionListener(
       new ListSelectionListener()
       {
           public void valueChanged(ListSelectionEvent e)
           {
               int first=e.getFirstIndex();
               int last=e.getLastIndex();
               
               Label.setText("Col "+Table.getSelectedColumn()+" Row "+Table.getSelectedRow());
               
           }
       }
       );
        
    }
    
    /** This method is called from within the init() method to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        jScrollPane1 = new javax.swing.JScrollPane();
        Table = new javax.swing.JTable();
        Label = new javax.swing.JLabel();
        txtDate = new javax.swing.JTextField();
        jButton1 = new javax.swing.JButton();
        lblStatus = new javax.swing.JLabel();

        getContentPane().setLayout(null);

        addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                formFocusGained(evt);
            }
        });
        addInputMethodListener(new java.awt.event.InputMethodListener() {
            public void inputMethodTextChanged(java.awt.event.InputMethodEvent evt) {
            }
            public void caretPositionChanged(java.awt.event.InputMethodEvent evt) {
                formCaretPositionChanged(evt);
            }
        });

        Table.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jScrollPane1.setViewportView(Table);

        getContentPane().add(jScrollPane1);
        jScrollPane1.setBounds(28, 54, 292, 176);

        Label.setText("jLabel1");
        getContentPane().add(Label);
        Label.setBounds(30, 22, 294, 16);

        txtDate.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                txtDateFocusGained(evt);
            }
        });

        getContentPane().add(txtDate);
        txtDate.setBounds(348, 74, 112, 22);

        jButton1.setText("Test");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        jButton1.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jButton1FocusGained(evt);
            }
        });

        getContentPane().add(jButton1);
        jButton1.setBounds(356, 120, 59, 25);

        lblStatus.setFont(new java.awt.Font("Verdana", 0, 12));
        lblStatus.setForeground(new java.awt.Color(51, 51, 255));
        lblStatus.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.LOWERED));
        getContentPane().add(lblStatus);
        lblStatus.setBounds(8, 392, 504, 22);

    }//GEN-END:initComponents

    private void formCaretPositionChanged(java.awt.event.InputMethodEvent evt) {//GEN-FIRST:event_formCaretPositionChanged
        // TODO add your handling code here:
        lblStatus.setText("Caret Position");
    }//GEN-LAST:event_formCaretPositionChanged

    private void jButton1FocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jButton1FocusGained
        // TODO add your handling code here:
        lblStatus.setText("Click to test the Date");
    }//GEN-LAST:event_jButton1FocusGained

    private void formFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_formFocusGained
        // TODO add your handling code here:
        lblStatus.setText("");
    }//GEN-LAST:event_formFocusGained

    private void txtDateFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtDateFocusGained
        // TODO add your handling code here:
        lblStatus.setText("Enter date");
    }//GEN-LAST:event_txtDateFocusGained

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:

		JEP parser = new JEP();        // Create a new parser
		String expr = "IIF(";
                //String expr = "1==2";
		double value;
                
		parser.addStandardFunctions();
		parser.addStandardConstants();
                parser.addVariable("IMPORT_CONCESS",1.0);

		parser.addFunction("IIF", new IIF(parser)); // Add the custom function
		
		parser.parseExpression(expr);                 // Parse the expression
                
                Object result=parser.getValueAsObject();
                
                JOptionPane.showMessageDialog(null,result.toString());
                
                
		/*if (parser.hasError()) {
			System.out.println("Error while parsing");
			System.out.println(parser.getErrorInfo());
			return;
		}
		
		value = parser.getValue();                    // Get the value
		if (parser.hasError()) {
			System.out.println("Error during evaluation");
			System.out.println(parser.getErrorInfo());
			return;
		}*/
        
        
    }//GEN-LAST:event_jButton1ActionPerformed
    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel Label;
    private javax.swing.JTable Table;
    private javax.swing.JButton jButton1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lblStatus;
    private javax.swing.JTextField txtDate;
    // End of variables declaration//GEN-END:variables
    
}
